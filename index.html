
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For Tiyasa ‚ù§Ô∏è</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&family=Sacramento&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #ff4d6d;
            --secondary: #ff8fa3;
            --dark: #590d22;
            --light: #fff0f3;
            --glass: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(255, 255, 255, 0.9);
            --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0; padding: 0;
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(180deg, #fff0f3 0%, #ffe5ec 100%);
            color: var(--dark);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* --- TYPOGRAPHY --- */
        h1, h2, h3 { font-family: 'Sacramento', cursive; color: var(--primary); font-weight: 400; margin: 0; }
        h1 { font-size: 3.5rem; line-height: 1.2; text-shadow: 2px 2px 0px rgba(255,255,255,0.5); }
        h2 { font-size: 2.5rem; margin-bottom: 15px; }
        p { font-size: 1rem; line-height: 1.6; margin-bottom: 15px; }

        /* --- LAYOUT --- */
        .container {
            max-width: 100%;
            padding: 20px;
            padding-bottom: 100px;
            position: relative;
            z-index: 2;
        }

        .card {
            background: var(--glass);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 25px 20px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            text-align: center;
            opacity: 0; transform: translateY(30px);
            transition: all 0.6s ease-out;
        }
        .card.visible { opacity: 1; transform: translateY(0); }

        /* --- SPECIAL SECTIONS --- */
        
        /* 1. Timer */
        .timer-box {
            display: flex; justify-content: space-around;
            background: white; border-radius: 15px; padding: 15px 5px;
            margin-top: 10px;
        }
        .time-unit { display: flex; flex-direction: column; }
        .time-val { font-size: 1.2rem; font-weight: bold; color: var(--primary); }
        .time-label { font-size: 0.7rem; text-transform: uppercase; }

        /* 2. Music Player */
        .music-player {
            display: flex; align-items: center; background: white;
            border-radius: 50px; padding: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 20px;
        }
        .play-btn {
            width: 40px; height: 40px; background: var(--primary); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; color: white;
            font-size: 1.2rem; margin-right: 15px; animation: pulse 2s infinite;
        }
        .song-info { text-align: left; line-height: 1.2; }
        .song-title { font-weight: bold; font-size: 0.9rem; }
        .song-artist { font-size: 0.7rem; opacity: 0.7; }

        /* 3. Carousel (Swipeable) */
        .carousel {
            display: flex; overflow-x: auto; scroll-snap-type: x mandatory;
            gap: 15px; padding-bottom: 10px; -webkit-overflow-scrolling: touch;
        }
        .carousel-card {
            min-width: 80%; scroll-snap-align: center;
            background: white; padding: 20px; border-radius: 15px;
            border: 2px solid #fff0f3;
        }

        /* 4. Balloons Game */
        #balloon-canvas {
            width: 100%; height: 250px; background: rgba(255,255,255,0.3);
            border-radius: 15px; border: 2px dashed var(--secondary);
            touch-action: none;
        }

        /* --- PROPOSAL --- */
        .proposal-area {
            position: relative; height: 160px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .btn-yes {
            background: var(--primary); color: white;
            font-size: 1.4rem; padding: 15px 60px; border-radius: 50px;
            border: none; box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4);
            font-weight: bold; z-index: 10; transition: transform 0.2s;
        }
        .btn-yes:active { transform: scale(0.95); }
        
        .btn-no {
            position: absolute; bottom: 10px;
            background: white; border: 1px solid var(--dark);
            padding: 8px 25px; border-radius: 20px;
            font-size: 0.9rem; font-weight: bold;
        }

        /* --- SUCCESS OVERLAY (FIXED MOBILE) --- */
        #success-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff0f3; z-index: 9999;
            display: none; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; padding: 20px;
        }
        /* Heart Explosion Animation */
        .big-heart { font-size: 8rem; animation: heartbeat 1s infinite; margin-bottom: 20px; }

        /* --- ANIMATIONS --- */
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(255,77,109,0.7); } 70% { box-shadow: 0 0 0 10px rgba(255,77,109,0); } 100% { box-shadow: 0 0 0 0 rgba(255,77,109,0); } }
        @keyframes heartbeat { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }

        /* --- UTILS --- */
        .hidden { display: none; }
        .canvas-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }
    </style>
</head>
<body>

    <canvas id="bg-canvas" class="canvas-bg"></canvas>

    <div id="success-overlay">
        <div class="big-heart">üíñ</div>
        <h1 style="font-size: 3rem; margin-bottom: 10px;">I LOVE YOU!</h1>
        <p style="font-size: 1.2rem;">You just made me the happiest person in the universe.</p>
        <p>Happy Valentine's Day Tiyasa! ü¶ã</p>
        <button onclick="location.reload()" style="margin-top: 30px; padding: 10px 30px; border-radius: 20px; border: 2px solid var(--primary); background: transparent; color: var(--primary); font-weight: bold;">Replay Our Story</button>
    </div>

    <div class="container">

        <div class="card visible">
            <div class="music-player">
                <div class="play-btn">‚ñ∂</div>
                <div class="song-info">
                    <div class="song-title">Perfect</div>
                    <div class="song-artist">Playing for Tiyasa...</div>
                </div>
            </div>
            <h1>Hi Tiyasa</h1>
            <p>I built this so you know exactly how much you mean to me.</p>
        </div>

        <div class="card visible">
            <h2>Counting Every Second ‚è≥</h2>
            <p>Time since April 4th, 2023:</p>
            <div class="timer-box" id="timer">
                <div class="time-unit"><span class="time-val" id="days">0</span><span class="time-label">Days</span></div>
                <div class="time-unit"><span class="time-val" id="hours">0</span><span class="time-label">Hrs</span></div>
                <div class="time-unit"><span class="time-val" id="mins">0</span><span class="time-label">Mins</span></div>
                <div class="time-unit"><span class="time-val" id="secs">0</span><span class="time-label">Secs</span></div>
            </div>
        </div>

        <div class="card visible">
            <h2>Our Timeline üìÖ</h2>
            <div style="text-align: left; padding: 0 10px;">
                <p><strong>üå± April 4, 2023</strong><br>The day we started knowing each other. The spark began.</p>
                <hr style="border: 0; border-top: 1px dashed var(--secondary); margin: 15px 0;">
                <p><strong>üíë May 9, 2023</strong><br>The Confession. The moment we became "Us". It was the most soothing day of my life.</p>
            </div>
        </div>

        <div class="card visible" style="padding: 15px 0; background: transparent; border: none; box-shadow: none;">
            <h2 style="margin-bottom: 10px;">Why I Love You</h2>
            <div class="carousel">
                <div class="carousel-card">
                    <div style="font-size: 3rem;">üòä</div>
                    <h3>Your Smile</h3>
                    <p>It literally lights up my darkest days.</p>
                </div>
                <div class="carousel-card">
                    <div style="font-size: 3rem;">ü¶ã</div>
                    <h3>Your Soul</h3>
                    <p>You are kind, understanding, and so pure.</p>
                </div>
                <div class="carousel-card">
                    <div style="font-size: 3rem;">ü§£</div>
                    <h3>Your Laugh</h3>
                    <p>The cutest sound in the world.</p>
                </div>
            </div>
            <p style="font-size: 0.8rem; margin-top: 5px;">(Swipe left to see more)</p>
        </div>

        <div class="card visible">
            <h2>Pop the Love Balloons üéà</h2>
            <p>Tap the balloons to pop them!</p>
            <p style="font-size: 0.9rem; color: var(--primary);">Score: <span id="balloon-score">0</span></p>
            <canvas id="balloon-canvas"></canvas>
        </div>

        <div class="card visible">
            <h2>A Special Note üíå</h2>
            <div style="background: white; padding: 20px; border-radius: 10px; font-family: 'Sacramento'; font-size: 1.5rem; line-height: 1.4; transform: rotate(-1deg); box-shadow: 2px 2px 5px rgba(0,0,0,0.1);">
                "Tiyasa, you make my world soft, crazy, and beautiful. I promise to always be your biggest fan and your safe place."
            </div>
        </div>

        <div class="card visible" style="margin-bottom: 60px;">
            <h2>The Big Question</h2>
            <p>Will you be my Valentine?</p>
            
            <div class="proposal-area">
                <button class="btn-yes" onclick="sheSaidYes()">YES! ‚ù§Ô∏è</button>
                <button class="btn-no" id="runaway-btn">No</button>
            </div>
        </div>

    </div>

    <script>
        /* --- 1. SCROLL ANIMATION --- */
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.card').forEach(card => observer.observe(card));

        /* --- 2. TIMER LOGIC --- */
        const startDate = new Date('2023-04-04T00:00:00');
        function updateTimer() {
            const now = new Date();
            const diff = now - startDate;
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const mins = Math.floor((diff / 1000 / 60) % 60);
            const secs = Math.floor((diff / 1000) % 60);

            document.getElementById('days').innerText = days;
            document.getElementById('hours').innerText = hours;
            document.getElementById('mins').innerText = mins;
            document.getElementById('secs').innerText = secs;
        }
        setInterval(updateTimer, 1000);
        updateTimer();

        /* --- 3. BALLOON GAME (CANVAS) --- */
        const bCanvas = document.getElementById('balloon-canvas');
        const bCtx = bCanvas.getContext('2d');
        // Fix canvas resolution for mobile
        bCanvas.width = bCanvas.offsetWidth;
        bCanvas.height = bCanvas.offsetHeight;

        let balloons = [];
        let score = 0;

        function createBalloon() {
            return {
                x: Math.random() * (bCanvas.width - 30) + 15,
                y: bCanvas.height + 30,
                radius: 20,
                speed: Math.random() * 1.5 + 0.5,
                color: `hsl(${Math.random()*360}, 70%, 70%)`
            };
        }

        function updateBalloons() {
            bCtx.clearRect(0, 0, bCanvas.width, bCanvas.height);
            
            if(Math.random() < 0.02) balloons.push(createBalloon());

            for (let i = 0; i < balloons.length; i++) {
                let b = balloons[i];
                b.y -= b.speed;
                
                // Draw Balloon
                bCtx.fillStyle = b.color;
                bCtx.beginPath();
                bCtx.arc(b.x, b.y, b.radius, 0, Math.PI * 2);
                bCtx.fill();
                // String
                bCtx.beginPath();
                bCtx.moveTo(b.x, b.y + b.radius);
                bCtx.lineTo(b.x, b.y + b.radius + 20);
                bCtx.stroke();

                if (b.y < -30) balloons.splice(i, 1);
            }
            requestAnimationFrame(updateBalloons);
        }
        updateBalloons();

        // Touch/Click to pop
        bCanvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            const rect = bCanvas.getBoundingClientRect();
            const touch = e.touches[0];
            checkPop(touch.clientX - rect.left, touch.clientY - rect.top);
        });
        bCanvas.addEventListener('mousedown', (e) => {
            const rect = bCanvas.getBoundingClientRect();
            checkPop(e.clientX - rect.left, e.clientY - rect.top);
        });

        function checkPop(x, y) {
            for (let i = 0; i < balloons.length; i++) {
                let b = balloons[i];
                let dist = Math.hypot(x - b.x, y - b.y);
                if (dist < b.radius + 10) {
                    balloons.splice(i, 1);
                    score++;
                    document.getElementById('balloon-score').innerText = score;
                    break;
                }
            }
        }

        /* --- 4. RUNAWAY BUTTON --- */
        const noBtn = document.getElementById('runaway-btn');
        const runAway = (e) => {
            if(e.type === 'touchstart') e.preventDefault();
            const x = Math.random() * (window.innerWidth - 100);
            const y = Math.random() * (window.innerHeight - 100);
            noBtn.style.position = 'fixed';
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
        };
        noBtn.addEventListener('mouseover', runAway);
        noBtn.addEventListener('touchstart', runAway);

        /* --- 5. YES CELEBRATION --- */
        function sheSaidYes() {
            const overlay = document.getElementById('success-overlay');
            overlay.style.display = 'flex';
            
            // Trigger Confetti
            for(let i=0; i<100; i++) {
                createConfetti();
            }
        }

        function createConfetti() {
            const colors = ['#ff4d6d', '#ff8fa3', '#fff0f3', '#ffc2d1'];
            const c = document.createElement('div');
            c.style.position = 'fixed';
            c.style.left = Math.random() * 100 + 'vw';
            c.style.top = '-10px';
            c.style.width = '10px';
            c.style.height = '10px';
            c.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            c.style.animation = `float ${Math.random() * 2 + 3}s linear infinite`;
            c.style.zIndex = '10000';
            document.body.appendChild(c);
            
            // Simple fall animation
            let top = -10;
            let speed = Math.random() * 2 + 2;
            function fall() {
                top += speed;
                c.style.top = top + 'px';
                if(top < window.innerHeight) requestAnimationFrame(fall);
                else c.remove();
            }
            fall();
        }

        /* --- 6. BACKGROUND HEARTS --- */
        const bgCanvas = document.getElementById('bg-canvas');
        const bgCtx = bgCanvas.getContext('2d');
        bgCanvas.width = window.innerWidth;
        bgCanvas.height = window.innerHeight;

        let hearts = [];
        for(let i=0; i<20; i++) {
            hearts.push({
                x: Math.random()*bgCanvas.width, y: Math.random()*bgCanvas.height,
                size: Math.random()*15+5, speed: Math.random()*0.5+0.2
            });
        }

        function drawBg() {
            bgCtx.clearRect(0,0,bgCanvas.width, bgCanvas.height);
            bgCtx.fillStyle = 'rgba(255, 77, 109, 0.3)';
            hearts.forEach(h => {
                h.y -= h.speed;
                if(h.y < -20) h.y = bgCanvas.height + 20;
                bgCtx.font = h.size + 'px Arial';
                bgCtx.fillText('‚ù§Ô∏è', h.x, h.y);
            });
            requestAnimationFrame(drawBg);
        }
        drawBg();

    </script>
</body>
</html>
